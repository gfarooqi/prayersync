<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PrayerSync - Prayer Management for Muslim Professionals</title>
    <link rel="stylesheet" href="styles-new.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1e3a5f">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Landing Page -->
    <div id="landingPage" class="landing-page">
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo">
                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                        <path d="M16 2L4 12V28H28V12L16 2Z" stroke="currentColor" stroke-width="2" fill="none"/>
                        <circle cx="16" cy="16" r="4" fill="currentColor"/>
                    </svg>
                    <span>PrayerSync</span>
                </div>
                <button type="button" class="nav-btn" onclick="showApp()">Get Started</button>
            </div>
        </nav>

        <section class="hero">
            <div class="hero-content">
                <h1 class="hero-title">Prayer-First Calendar Management for Muslim Professionals</h1>
                <p class="hero-subtitle">Automatically block prayer times in your work calendar, resolve meeting conflicts, and maintain spiritual consistency across business travel and demanding schedules</p>
                <div class="hero-buttons">
                    <button type="button" class="btn-primary" onclick="showApp()">
                        Start Professional Trial
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M7 10H13M13 10L10 7M13 10L10 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <button type="button" class="btn-secondary" onclick="scrollToFeatures()">
                        View Professional Features
                    </button>
                </div>
                <div class="hero-stats">
                    <div class="stat">
                        <span class="stat-number">15K+</span>
                        <span class="stat-label">Muslim Professionals</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">500+</span>
                        <span class="stat-label">Companies Using</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">98%</span>
                        <span class="stat-label">Prayer Consistency</span>
                    </div>
                </div>
            </div>
            <div class="hero-image">
                <div class="phone-mockup">
                    <div class="phone-screen">
                        <div class="mini-prayer-card">
                            <div class="mini-prayer-name">Dhuhr</div>
                            <div class="mini-prayer-time">12:45 PM</div>
                        </div>
                        <div class="mini-prayer-card active">
                            <div class="mini-prayer-name">Asr</div>
                            <div class="mini-prayer-time">3:30 PM</div>
                        </div>
                        <div class="mini-prayer-card">
                            <div class="mini-prayer-name">Maghrib</div>
                            <div class="mini-prayer-time">6:15 PM</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="features" class="features">
            <div class="container">
                <h2 class="section-title">Professional Prayer Management Features</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M12 2L22 12L12 22L2 12L12 2Z" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <h3>Precision Prayer Scheduling</h3>
                        <p>GPS-accurate prayer times that automatically adjust for business travel and client meetings across time zones</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <rect x="3" y="4" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
                                <path d="M3 9H21M8 4V9M16 4V9" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <h3>Enterprise Calendar Integration</h3>
                        <p>Seamlessly sync with Google Workspace, Outlook 365, and other professional calendar systems</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                <path d="M12 6V12L16 16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <h3>Professional Prayer Notifications</h3>
                        <p>Discrete meeting-aware alerts that respect your professional environment while keeping you spiritually grounded</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="cta">
            <div class="container">
                <h2>Ready to Lead with Faith in Your Professional Life?</h2>
                <p>Trusted by Muslim professionals at Fortune 500 companies, government agencies, and leading organizations worldwide</p>
                <button type="button" class="btn-primary large" onclick="showApp()">
                    Start Professional Trial
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M7 10H13M13 10L10 7M13 10L10 13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
            </div>
        </section>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="main-app" style="display: none;">
        <header class="app-header">
            <div class="header-content">
                <div class="header-left">
                    <button type="button" class="back-btn" onclick="showLanding()">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M13 10L7 10M7 10L10 13M7 10L10 7" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <h1>PrayerSync</h1>
                </div>
                <div class="header-right">
                    <button type="button" class="location-badge" id="locationBadge" onclick="openLocationModal()">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                            <path d="M8 8C9.10457 8 10 7.10457 10 6C10 4.89543 9.10457 4 8 4C6.89543 4 6 4.89543 6 6C6 7.10457 6.89543 8 8 8Z" stroke="currentColor"/>
                            <path d="M8 14C8 14 12 10.5 12 6.5C12 4.01472 10.2091 2 8 2C5.79086 2 4 4.01472 4 6.5C4 10.5 8 14 8 14Z" stroke="currentColor"/>
                        </svg>
                        <span id="locationText">Detecting location...</span>
                        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" class="dropdown-arrow">
                            <path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <button type="button" class="travel-mode-btn" id="travelModeBtn" onclick="toggleTravelMode()">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 2L3 7V9L10 6L17 9V7L10 2Z" stroke="currentColor" stroke-width="2"/>
                            <path d="M3 13L10 10L17 13" stroke="currentColor" stroke-width="2"/>
                            <path d="M3 17L10 14L17 17" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <span class="travel-mode-text">Business Travel</span>
                    </button>
                </div>
            </div>
        </header>

        <main class="app-main">
            <div class="app-container">
                <!-- Today's Date -->
                <div class="date-section">
                    <h2 id="todayDate">Today</h2>
                    <p id="hijriDate" class="hijri-date">Loading...</p>
                </div>

                <!-- Professional Calendar Integration -->
                <div class="sync-section">
                    <h3>Enterprise Calendar Integration</h3>
                    <div class="sync-buttons">
                        <button type="button" class="sync-btn google" id="googleSyncBtn">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M18.1713 8.36795H17.4998V8.33329H9.99984V11.6666H14.7095C14.0225 13.607 12.1762 15 9.99984 15C7.23859 15 5 12.7613 5 9.99996C5 7.23871 7.23859 4.99996 9.99984 4.99996C11.2793 4.99996 12.4293 5.48596 13.317 6.28121L15.6743 3.92396C14.1858 2.52196 12.195 1.66663 9.99984 1.66663C5.39784 1.66663 1.6665 5.39796 1.6665 9.99996C1.6665 14.602 5.39784 18.3333 9.99984 18.3333C14.602 18.3333 18.3332 14.602 18.3332 9.99996C18.3332 9.44129 18.2758 8.89579 18.1713 8.36795Z" fill="#FFC107"/>
                                <path d="M2.62744 6.12129L5.36544 8.12913C6.10619 6.29496 7.90036 4.99996 9.99978 4.99996C11.2793 4.99996 12.4293 5.48596 13.317 6.28121L15.6743 3.92396C14.1858 2.52196 12.195 1.66663 9.99978 1.66663C6.79903 1.66663 4.02328 3.47363 2.62744 6.12129Z" fill="#FF3D00"/>
                                <path d="M10.0002 18.3333C12.1527 18.3333 14.108 17.5095 15.5873 16.17L13.008 13.9875C12.1432 14.6451 11.0866 15.0008 10.0002 15C7.83255 15 5.99213 13.618 5.29871 11.6891L2.58105 13.7829C3.96046 16.4816 6.76138 18.3333 10.0002 18.3333Z" fill="#4CAF50"/>
                                <path d="M18.1713 8.36804H17.4998V8.33337H9.99984V11.6667H14.7095C14.3718 12.5902 13.775 13.3972 13.0067 13.9879L13.008 13.987L15.5873 16.1695C15.4078 16.3354 18.3332 14.1667 18.3332 10C18.3332 9.44137 18.2758 8.89587 18.1713 8.36804Z" fill="#1976D2"/>
                            </svg>
                            <span>Google Workspace</span>
                        </button>
                        <button type="button" class="sync-btn outlook" id="outlookSyncBtn">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M11.5 2L18 5.5V14.5L11.5 18L5 14.5V11H10C12.76 11 15 8.76 15 6C15 3.24 12.76 1 10 1C7.24 1 5 3.24 5 6V14.5" stroke="#0078D4" stroke-width="2" fill="none"/>
                            </svg>
                            <span>Microsoft 365</span>
                        </button>
                    </div>
                    <p class="sync-status" id="syncStatus"></p>
                </div>

                <!-- Professional Prayer Schedule -->
                <div class="prayers-section">
                    <h3>Today's Prayer Schedule</h3>
                    <div class="prayer-cards" id="prayerCards">
                        <!-- Prayer cards will be dynamically inserted here -->
                    </div>
                </div>

                <!-- Missed Prayers Section -->
                <div class="missed-prayers-section" id="missedPrayersSection" style="display: none;">
                    <h3>Makeup Prayers (Qada)</h3>
                    <div class="missed-prayers-card">
                        <div class="missed-count">
                            <span class="count-number" id="missedCount">0</span>
                            <span class="count-label">prayers to make up</span>
                        </div>
                        <div class="missed-actions">
                            <button type="button" class="quick-makeup-btn" onclick="showMakeupModal()">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M8 4V8L10.5 10.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    <circle cx="8" cy="8" r="6" stroke="currentColor" stroke-width="2"/>
                                </svg>
                                Quick Makeup
                            </button>
                            <button type="button" class="view-missed-btn" onclick="showMissedList()">View All</button>
                        </div>
                    </div>
                </div>

                <!-- Professional Performance Metrics -->
                <div class="insights-section">
                    <h3>Prayer Performance Analytics</h3>
                    <div class="insights-grid">
                        <div class="insight-card streak-card" onclick="showStreakShare()">
                            <div class="insight-icon">🔥</div>
                            <div class="insight-content">
                                <div class="insight-number" id="streakCount">7</div>
                                <div class="insight-label">Professional Streak</div>
                            </div>
                            <div class="share-indicator">Tap to share!</div>
                        </div>
                        <div class="insight-card">
                            <div class="insight-icon">🎯</div>
                            <div class="insight-content">
                                <div class="insight-number" id="weeklyPercentage">85%</div>
                                <div class="insight-label">Weekly Performance</div>
                            </div>
                        </div>
                        <div class="insight-card">
                            <div class="insight-icon">⚡</div>
                            <div class="insight-content">
                                <div class="insight-number" id="onTimeCount">4</div>
                                <div class="insight-label">Prayers During Work</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Professional Network Section -->
                <div class="mission-section">
                    <div class="mission-card">
                        <div class="mission-header">
                            <h3>💼 Professional Muslim Network</h3>
                            <p>Leading with faith while advancing your career - join Muslim professionals prioritizing deen and dunya</p>
                        </div>
                        <div class="mission-stats">
                            <div class="community-stat">
                                <span class="stat-number">15,230</span>
                                <span class="stat-label">Muslim Professionals</span>
                            </div>
                            <div class="community-stat">
                                <span class="stat-number">847</span>
                                <span class="stat-label">Companies Represented</span>
                            </div>
                        </div>
                        <div class="mission-actions">
                            <button type="button" class="invite-friends-btn" onclick="showInviteOptions()">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                    <path d="M8 12L13 7L8 2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                    <path d="M13 7H3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                Invite Colleagues
                            </button>
                            <button type="button" class="join-challenge-btn" onclick="showCommunityChallenge()">
                                Join Professional Challenge
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Professional Network Section -->
                <div class="prayer-partners-section" id="prayerPartnersSection">
                    <h3>Professional Prayer Network</h3>
                    <div class="partners-container">
                        <div class="partner-card add-partner" onclick="invitePrayerPartner()">
                            <div class="partner-icon">➕</div>
                            <div class="partner-info">
                                <h4>Connect with Colleagues</h4>
                                <p>Find Muslim professionals at your workplace</p>
                            </div>
                        </div>

                        <div class="partner-card" id="samplePartner" style="display: none;">
                            <div class="partner-avatar">AM</div>
                            <div class="partner-info">
                                <h4>Ahmed M.</h4>
                                <p>Senior Consultant • 7-day streak</p>
                            </div>
                            <div class="partner-status">🔥</div>
                        </div>
                    </div>
                </div>

                <!-- Professional Meeting Conflict Management -->
                <div class="conflict-alert" id="conflictAlert" style="display: none;">
                    <div class="alert-content">
                        <div class="alert-icon">📅</div>
                        <div class="alert-text">
                            <strong>Professional Schedule Conflict Detected</strong>
                            <p id="conflictDetails">Your 2:00 PM client meeting overlaps with Asr prayer (3:30 PM)</p>
                        </div>
                        <div class="alert-actions">
                            <button type="button" class="suggest-btn" onclick="showMeetingSuggestions()">Generate Professional Alternatives</button>
                            <button type="button" class="dismiss-btn" onclick="dismissConflict()">Schedule Around Prayer</button>
                        </div>
                    </div>
                </div>

                <!-- Professional Prayer Schedule -->
                <div class="countdown-section">
                    <h3>Next Scheduled Prayer Break</h3>
                    <div class="countdown-card">
                        <div class="countdown-prayer" id="nextPrayerName">Loading...</div>
                        <div class="countdown-timer" id="countdownTimer">--:--:--</div>
                        <div class="countdown-progress">
                            <div class="progress-bar" id="progressBar"></div>
                        </div>
                    </div>
                </div>

                <!-- Professional Preferences -->
                <div class="settings-card">
                    <h3>Professional Settings</h3>
                    <div class="settings-grid">
                        <div class="setting-item">
                            <label for="calcMethod">Calculation Method</label>
                            <select id="calcMethod" class="setting-select">
                                <option value="MWL">Muslim World League</option>
                                <option value="ISNA">Islamic Society of North America</option>
                                <option value="Egypt">Egyptian General Authority</option>
                                <option value="Makkah">Umm al-Qura, Makkah</option>
                                <option value="Karachi">University of Islamic Sciences, Karachi</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="reminderTime">Reminder Before Prayer</label>
                            <select id="reminderTime" class="setting-select">
                                <option value="5">5 minutes</option>
                                <option value="10">10 minutes</option>
                                <option value="15" selected>15 minutes</option>
                                <option value="30">30 minutes</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Location Selection Modal -->
    <div class="modal" id="locationModal">
        <div class="modal-content location-modal">
            <div class="modal-header">
                <h2>Select Your Location</h2>
                <button type="button" class="modal-close" onclick="closeLocationModal()">&times;</button>
            </div>

            <div class="location-options">
                <!-- Current Location -->
                <button type="button" class="location-option" onclick="useCurrentLocation()">
                    <span class="option-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
                            <path d="M12 2V6M12 18V22M22 12H18M6 12H2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </span>
                    <span class="option-content">
                        <span class="option-title">Use Current Location</span>
                        <span class="option-desc">Detect my location automatically</span>
                    </span>
                </button>

                <!-- Search Location -->
                <div class="location-search">
                    <div class="search-header">
                        <div class="option-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                                <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <h3>Search for a City</h3>
                    </div>
                    <div class="search-input-wrapper">
                        <input type="text" id="locationSearch" placeholder="Enter city name..." autocomplete="off">
                        <div class="search-suggestions" id="searchSuggestions"></div>
                    </div>
                </div>

                <!-- Recent Locations -->
                <div class="recent-locations" id="recentLocations">
                    <h3>Recent Locations</h3>
                    <div class="recent-list" id="recentList">
                        <!-- Recent locations will be populated here -->
                    </div>
                </div>

                <!-- Popular Cities -->
                <div class="popular-cities">
                    <h3>Popular Cities</h3>
                    <div class="city-grid">
                        <button type="button" class="city-btn" onclick="selectCity('Mecca', 'Saudi Arabia', 21.4225, 39.8262, 'Asia/Riyadh')">
                            Mecca
                        </button>
                        <button type="button" class="city-btn" onclick="selectCity('Medina', 'Saudi Arabia', 24.5247, 39.5692, 'Asia/Riyadh')">
                            Medina
                        </button>
                        <button type="button" class="city-btn" onclick="selectCity('Istanbul', 'Turkey', 41.0082, 28.9784, 'Europe/Istanbul')">
                            Istanbul
                        </button>
                        <button type="button" class="city-btn" onclick="selectCity('Cairo', 'Egypt', 30.0444, 31.2357, 'Africa/Cairo')">
                            Cairo
                        </button>
                        <button type="button" class="city-btn" onclick="selectCity('Dubai', 'UAE', 25.2048, 55.2708, 'Asia/Dubai')">
                            Dubai
                        </button>
                        <button type="button" class="city-btn" onclick="selectCity('London', 'UK', 51.5074, -0.1278, 'Europe/London')">
                            London
                        </button>
                        <button type="button" class="city-btn" onclick="selectCity('New York', 'USA', 40.7128, -74.0060, 'America/New_York')">
                            New York
                        </button>
                        <button type="button" class="city-btn" onclick="selectCity('Kuala Lumpur', 'Malaysia', 3.1390, 101.6869, 'Asia/Kuala_Lumpur')">
                            Kuala Lumpur
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Travel Mode Notification -->
    <div class="travel-notification" id="travelNotification">
        <div class="notification-content">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                <path d="M12 2L3 7V9L12 6L21 9V7L12 2Z" fill="currentColor"/>
            </svg>
            <span>Business Travel Mode Active - Professional calendar syncs automatically across time zones and locations</span>
        </div>
    </div>

    <!-- Makeup Prayer Modal -->
    <div class="modal" id="makeupModal">
        <div class="modal-content makeup-modal">
            <div class="modal-header">
                <h2>Quick Makeup Prayer</h2>
                <button type="button" class="modal-close" onclick="closeMakeupModal()">&times;</button>
            </div>

            <div class="makeup-content">
                <p>Mark a prayer as completed now to reduce your makeup count:</p>

                <div class="makeup-options">
                    <div class="makeup-prayer-list" id="makeupPrayerList">
                        <!-- Dynamically populated -->
                    </div>
                </div>

                <div class="makeup-actions">
                    <button type="button" class="complete-makeup-btn" id="completeMakeupBtn" onclick="completeMakeupPrayer()">
                        Complete Makeup Prayer
                    </button>
                    <button type="button" class="cancel-btn" onclick="closeMakeupModal()">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Meeting Suggestions Modal -->
    <div class="modal" id="meetingSuggestionsModal">
        <div class="modal-content meeting-modal">
            <div class="modal-header">
                <h2>Meeting Time Suggestions</h2>
                <button type="button" class="modal-close" onclick="closeMeetingSuggestions()">&times;</button>
            </div>

            <div class="meeting-content">
                <div class="conflict-summary">
                    <p><strong>Conflict:</strong> <span id="conflictSummary"></span></p>
                </div>

                <div class="suggestions-list">
                    <h3>Suggested Alternative Times</h3>
                    <div class="time-suggestions" id="timeSuggestions">
                        <!-- Dynamically populated -->
                    </div>
                </div>

                <div class="meeting-actions">
                    <button type="button" class="copy-suggestions-btn" onclick="copySuggestions()">
                        Copy Suggestions to Clipboard
                    </button>
                    <button type="button" class="email-suggestions-btn" onclick="emailSuggestions()">
                        Email Suggestions
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Qibla Direction Modal -->
    <div class="modal" id="qiblaModal">
        <div class="modal-content qibla-modal">
            <div class="modal-header">
                <h2>Qibla Direction</h2>
                <button type="button" class="modal-close" onclick="closeQiblaModal()">&times;</button>
            </div>

            <div class="qibla-content">
                <div class="qibla-compass">
                    <div class="compass-container">
                        <div class="compass-face" id="compassFace">
                            <div class="compass-needle" id="compassNeedle"></div>
                            <div class="compass-qibla" id="compassQibla"></div>
                            <div class="compass-labels">
                                <div class="compass-label north">N</div>
                                <div class="compass-label east">E</div>
                                <div class="compass-label south">S</div>
                                <div class="compass-label west">W</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="qibla-info">
                    <div class="qibla-details">
                        <p><strong>Direction to Mecca:</strong> <span id="qiblaDirection">--°</span></p>
                        <p><strong>Distance:</strong> <span id="qiblaDistance">-- km</span></p>
                        <p><strong>Your Location:</strong> <span id="qiblaLocation">--</span></p>
                    </div>

                    <div class="calibration-note">
                        <p>📱 Hold your device flat and ensure location access is enabled for accurate direction.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Islamic Calendar Widget -->
    <div class="islamic-calendar-widget" id="islamicCalendar">
        <div class="calendar-header">
            <h4>Islamic Calendar</h4>
            <button type="button" class="calendar-toggle" onclick="toggleIslamicCalendar()">×</button>
        </div>
        <div class="calendar-content">
            <div class="hijri-date-display">
                <span class="hijri-day" id="hijriDay">--</span>
                <span class="hijri-month" id="hijriMonth">--</span>
                <span class="hijri-year" id="hijriYear">----</span>
            </div>
            <div class="special-dates" id="specialDates">
                <!-- Special Islamic dates will be shown here -->
            </div>
        </div>
    </div>

    <!-- Enhanced Prayer Status Notification -->
    <div class="prayer-status-notification" id="prayerStatusNotification">
        <div class="notification-content">
            <div class="status-icon" id="statusIcon">✅</div>
            <div class="status-message" id="statusMessage">Fajr prayer marked as completed</div>
            <div class="status-time" id="statusTime">On time</div>
        </div>
    </div>

    <!-- Streak Sharing Modal -->
    <div class="modal" id="streakShareModal">
        <div class="modal-content streak-share-modal">
            <div class="modal-header">
                <h2>🔥 Professional Achievement Unlocked!</h2>
                <button type="button" class="modal-close" onclick="closeStreakShare()">&times;</button>
            </div>

            <div class="streak-celebration">
                <div class="streak-card-preview">
                    <div class="celebration-header">
                        <h3>7-Day Professional Prayer Consistency!</h3>
                        <p>Leading with faith while advancing my career - balancing deen and dunya</p>
                    </div>

                    <div class="streak-stats">
                        <div class="stat">
                            <span class="number">7</span>
                            <span class="label">Days on time</span>
                        </div>
                        <div class="stat">
                            <span class="number">100%</span>
                            <span class="label">This week</span>
                        </div>
                        <div class="stat">
                            <span class="number">35</span>
                            <span class="label">Total prayers</span>
                        </div>
                    </div>

                    <div class="mission-message">
                        <p>✨ Part of a professional network: 15,230 Muslim professionals excelling in career and faith</p>
                    </div>
                </div>

                <div class="share-options">
                    <h3>Share Your Achievement</h3>
                    <div class="share-buttons">
                        <button type="button" class="share-btn whatsapp" onclick="shareToWhatsApp()">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z" fill="currentColor"/>
                            </svg>
                            WhatsApp
                        </button>
                        <button type="button" class="share-btn telegram" onclick="shareToTelegram()">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 00-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-.38.02-1.3.84-.36.25-.87.6-1.44.99-.22.15-.42.22-.59.22-.17 0-.5-.05-.72-.18-.32-.18-.59-.28-.59-.54 0-.17.03-.33.11-.47.05-.08.22-.26.48-.52.07-.06.15-.14.25-.25z" fill="currentColor"/>
                            </svg>
                            Telegram
                        </button>
                        <button type="button" class="share-btn sms" onclick="shareViaSMS()">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z" stroke="currentColor" stroke-width="2"/>
                                <path d="M7 9h10M7 13h6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                            SMS
                        </button>
                        <button type="button" class="share-btn facebook" onclick="shareToFacebook()">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            Facebook
                        </button>
                        <button type="button" class="share-btn instagram" onclick="shareToInstagram()">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <rect x="2" y="2" width="20" height="20" rx="5" ry="5" stroke="currentColor" stroke-width="2"/>
                                <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" stroke="currentColor" stroke-width="2"/>
                                <line x1="17.5" y1="6.5" x2="17.51" y2="6.5" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            Instagram
                        </button>
                        <button type="button" class="share-btn native" onclick="shareNatively()">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8M16 6l-4-4-4 4M12 2v13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                            Share
                        </button>
                    </div>
                </div>

                <div class="invite-incentive">
                    <h3>💝 Invite Prayer Partners</h3>
                    <p>Invite friends to be your prayer accountability partners</p>
                    <div class="incentive-details">
                        <span class="benefit">✨ Both get +3 streak bonus days</span>
                        <span class="benefit">🤝 Support each other's prayer journey</span>
                        <span class="benefit">🏆 Unlock group challenges together</span>
                    </div>
                    <button type="button" class="invite-partners-btn" onclick="showInviteOptions()">
                        Invite Prayer Partners
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Invite Options Modal -->
    <div class="modal" id="inviteModal">
        <div class="modal-content invite-modal">
            <div class="modal-header">
                <h2>💼 Connect with Muslim Professionals</h2>
                <button type="button" class="modal-close" onclick="closeInviteModal()">&times;</button>
            </div>

            <div class="invite-content">
                <div class="invite-message">
                    <h3>Build your professional Muslim network</h3>
                    <p>Connect with Muslim colleagues and professionals who balance career success with spiritual consistency</p>
                </div>

                <div class="invite-options">
                    <div class="invite-option" onclick="inviteViaWhatsApp()">
                        <div class="option-icon whatsapp-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
                                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z" fill="currentColor"/>
                            </svg>
                        </div>
                        <div class="option-content">
                            <h4>Share via WhatsApp</h4>
                            <p>Send to colleagues, professional networks, or workplace groups</p>
                        </div>
                    </div>

                    <div class="invite-option" onclick="inviteViaEmail()">
                        <div class="option-icon email-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="currentColor" stroke-width="2"/>
                                <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="option-content">
                            <h4>Professional Email Invitation</h4>
                            <p>Send enterprise-appropriate invites to Muslim colleagues and business contacts</p>
                        </div>
                    </div>

                    <div class="invite-option" onclick="copyInviteLink()">
                        <div class="option-icon link-icon">
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" stroke="currentColor" stroke-width="2"/>
                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="option-content">
                            <h4>Copy Invite Link</h4>
                            <p>Share link anywhere you want</p>
                        </div>
                    </div>
                </div>

                <div class="invite-preview">
                    <h4>Preview Message:</h4>
                    <div class="message-preview">
                        <p>"I've found a great tool for maintaining prayer consistency during demanding work schedules. PrayerSync integrates with professional calendars and helps resolve meeting conflicts with prayer times. As Muslim professionals, it's helping me balance career growth with spiritual obligations. Check it out: [link]"</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Community Challenge Modal -->
    <div class="modal" id="challengeModal">
        <div class="modal-content challenge-modal">
            <div class="modal-header">
                <h2>🏆 Professional Muslim Challenge</h2>
                <button type="button" class="modal-close" onclick="closeChallengeModal()">&times;</button>
            </div>

            <div class="challenge-content">
                <div class="challenge-header">
                    <h3>Elevate Your Professional Prayer Consistency</h3>
                    <p>Join 2,847 Muslim professionals in this month's workplace productivity challenge</p>
                </div>

                <div class="challenge-stats">
                    <div class="challenge-progress">
                        <div class="progress-circle">
                            <span class="progress-number">73%</span>
                            <span class="progress-label">on track</span>
                        </div>
                    </div>
                    <div class="challenge-leaderboard">
                        <h4>Top Business Hubs</h4>
                        <div class="leaderboard-item">
                            <span class="rank">1.</span>
                            <span class="city">London Financial District</span>
                            <span class="participants">847 professionals</span>
                        </div>
                        <div class="leaderboard-item">
                            <span class="rank">2.</span>
                            <span class="city">New York Wall Street</span>
                            <span class="participants">623 professionals</span>
                        </div>
                        <div class="leaderboard-item">
                            <span class="rank">3.</span>
                            <span class="city">Dubai Business Bay</span>
                            <span class="participants">512 professionals</span>
                        </div>
                    </div>
                </div>

                <div class="challenge-actions">
                    <button type="button" class="join-challenge-primary" onclick="joinChallenge()">
                        Join Challenge
                    </button>
                    <button type="button" class="invite-to-challenge" onclick="inviteToChallenge()">
                        Invite Friends to Challenge
                    </button>
                </div>

                <div class="challenge-benefits">
                    <h4>Professional Benefits:</h4>
                    <ul>
                        <li>🏭 Connect with Muslim professionals in your industry</li>
                        <li>🏆 Earn LinkedIn-shareable achievement credentials</li>
                        <li>📊 Track productivity metrics alongside prayer consistency</li>
                        <li>💼 Build leadership through spiritual discipline</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="app-new.js"></script>
</body>
</html>